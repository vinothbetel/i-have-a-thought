import{u as I,j as e,A as L,t as i,x as l,z as Z,aV as N,C as z,e as p,v as h,w as u,H as n,aC as G}from"./index-CmPV5CT1.js";import{T as j,a as U}from"./trending-up-z4_qGM5z.js";import{F as V,A as Y}from"./flame-C5BFthz_.js";import{Z as q}from"./zap-BVQ1LK7P.js";function _(){const{tasks:x,getTotalTasksCount:P,getCompletedTasksCount:M,getActiveTasksCount:E,getCurrentStreak:B,getLongestStreak:W,getTasksByStatus:v,getTasksByPriority:g}=I(),a=P(),y=M();E();const $=B(),D=W(),b=a>0?Math.round(y/a*100):0,w=v("todo").length,T=v("in-progress").length,k=g("high").length,C=g("medium").length,A=g("low").length,t=(()=>{const s=x.reduce((c,o)=>c+(o.timeSpent||0),0),r=x.reduce((c,o)=>c+(o.estimatedTime||0)*60,0),d=x.filter(c=>c.timeSpent&&c.timeSpent>0),H=d.length>0?Math.round(s/d.length):0,R=r>0?Math.round(s/r*100):0,f=x.filter(c=>c.status==="completed"&&c.timeSpent&&c.timeSpent>0),F=f.length>0?Math.round(f.reduce((c,o)=>c+(o.timeSpent||0),0)/f.length):0;return{totalTimeSpent:s,totalEstimatedTime:r,averageTimePerTask:H,timeAccuracy:R,averageCompletionTime:F,tasksWithTimeCount:d.length}})(),m=s=>{const r=Math.floor(s/3600),d=Math.floor(s%3600/60);return r>0?`${r}h ${d}m`:d>0?`${d}m`:`${s}s`},S=()=>x.filter(s=>s.timeSpent&&s.timeSpent>0).sort((s,r)=>(r.timeSpent||0)-(s.timeSpent||0)).slice(0,5);return e.jsxs("div",{className:"container max-w-7xl mx-auto p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[e.jsx(L,{className:"h-8 w-8"}),"Analytics"]}),e.jsx("p",{className:"text-muted-foreground",children:"Detailed insights into your productivity and task management"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(i,{className:"shadow-elegant",children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Tasks"}),e.jsx("p",{className:"text-2xl font-bold",children:a})]}),e.jsx("div",{className:"h-12 w-12 bg-primary/10 rounded-lg flex items-center justify-center",children:e.jsx(j,{className:"h-6 w-6 text-primary"})})]})})}),e.jsx(i,{className:"shadow-elegant",children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Completion Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-success",children:[b,"%"]})]}),e.jsx("div",{className:"h-12 w-12 bg-success/10 rounded-lg flex items-center justify-center",children:e.jsx(Z,{className:"h-6 w-6 text-success"})})]})})}),e.jsx(i,{className:"shadow-elegant",children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Current Streak"}),e.jsx("p",{className:"text-2xl font-bold text-orange-500",children:$})]}),e.jsx("div",{className:"h-12 w-12 bg-orange-500/10 rounded-lg flex items-center justify-center",children:e.jsx(V,{className:"h-6 w-6 text-orange-500"})})]})})}),e.jsx(i,{className:"shadow-elegant",children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Best Streak"}),e.jsx("p",{className:"text-2xl font-bold text-purple-500",children:D})]}),e.jsx("div",{className:"h-12 w-12 bg-purple-500/10 rounded-lg flex items-center justify-center",children:e.jsx(Y,{className:"h-6 w-6 text-purple-500"})})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(i,{className:"shadow-elegant",children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Time Tracked"}),e.jsx("p",{className:"text-2xl font-bold text-focus",children:m(t.totalTimeSpent)})]}),e.jsx("div",{className:"h-12 w-12 bg-focus/10 rounded-lg flex items-center justify-center",children:e.jsx(N,{className:"h-6 w-6 text-focus"})})]})})}),e.jsx(i,{className:"shadow-elegant",children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg Time/Task"}),e.jsx("p",{className:"text-2xl font-bold text-break",children:m(t.averageTimePerTask)})]}),e.jsx("div",{className:"h-12 w-12 bg-break/10 rounded-lg flex items-center justify-center",children:e.jsx(z,{className:"h-6 w-6 text-break"})})]})})}),e.jsx(i,{className:"shadow-elegant",children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Time Accuracy"}),e.jsxs("p",{className:p("text-2xl font-bold",t.timeAccuracy>100?"text-break":t.timeAccuracy>80?"text-success":"text-muted-foreground"),children:[t.timeAccuracy,"%"]})]}),e.jsx("div",{className:"h-12 w-12 bg-success/10 rounded-lg flex items-center justify-center",children:e.jsx(j,{className:"h-6 w-6 text-success"})})]})})}),e.jsx(i,{className:"shadow-elegant",children:e.jsx(l,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Tasks Tracked"}),e.jsx("p",{className:"text-2xl font-bold text-purple-500",children:t.tasksWithTimeCount})]}),e.jsx("div",{className:"h-12 w-12 bg-purple-500/10 rounded-lg flex items-center justify-center",children:e.jsx(q,{className:"h-6 w-6 text-purple-500"})})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(i,{className:"shadow-elegant",children:[e.jsx(h,{children:e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-5 w-5"}),"Task Status Breakdown"]})}),e.jsxs(l,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-muted rounded-full"}),e.jsx("span",{className:"text-sm",children:"To Do"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:w}),e.jsxs(n,{variant:"secondary",children:[a>0?Math.round(w/a*100):0,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-focus rounded-full"}),e.jsx("span",{className:"text-sm",children:"In Progress"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:T}),e.jsxs(n,{variant:"secondary",children:[a>0?Math.round(T/a*100):0,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-success rounded-full"}),e.jsx("span",{className:"text-sm",children:"Completed"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:y}),e.jsxs(n,{variant:"secondary",children:[b,"%"]})]})]})]})]}),e.jsxs(i,{className:"shadow-elegant",children:[e.jsx(h,{children:e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(j,{className:"h-5 w-5"}),"Priority Distribution"]})}),e.jsxs(l,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-destructive rounded-full"}),e.jsx("span",{className:"text-sm",children:"High Priority"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:k}),e.jsxs(n,{variant:"destructive",children:[a>0?Math.round(k/a*100):0,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-break rounded-full"}),e.jsx("span",{className:"text-sm",children:"Medium Priority"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:C}),e.jsxs(n,{variant:"secondary",children:[a>0?Math.round(C/a*100):0,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-success rounded-full"}),e.jsx("span",{className:"text-sm",children:"Low Priority"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:A}),e.jsxs(n,{variant:"secondary",children:[a>0?Math.round(A/a*100):0,"%"]})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(i,{className:"shadow-elegant",children:[e.jsx(h,{children:e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(N,{className:"h-5 w-5"}),"Top Time Consuming Tasks"]})}),e.jsx(l,{children:S().length===0?e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(N,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No time tracking data yet"}),e.jsx("p",{className:"text-xs",children:"Start tracking time on your tasks to see insights"})]}):e.jsx("div",{className:"space-y-3",children:S().map((s,r)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/20 rounded-lg",children:[e.jsx("div",{className:"flex items-center justify-center w-6 h-6 bg-primary/10 text-primary rounded-full text-xs font-bold",children:r+1}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm truncate",children:s.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(n,{variant:s.status==="completed"?"secondary":"outline",className:"text-xs",children:s.status}),e.jsx(n,{variant:s.priority==="high"?"destructive":s.priority==="medium"?"default":"secondary",className:"text-xs",children:s.priority})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-focus",children:m(s.timeSpent||0)}),s.estimatedTime&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Est: ",s.estimatedTime,"m"]})]})]},s.id))})})]}),e.jsxs(i,{className:"shadow-elegant",children:[e.jsx(h,{children:e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(j,{className:"h-5 w-5"}),"Time Estimation Insights"]})}),e.jsxs(l,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Estimation Accuracy"}),e.jsxs("span",{className:p("text-lg font-bold",t.timeAccuracy>100?"text-break":t.timeAccuracy>80?"text-success":"text-muted-foreground"),children:[t.timeAccuracy,"%"]})]}),e.jsx(G,{value:Math.min(t.timeAccuracy,100),className:p("h-2",t.timeAccuracy>100?"[&>div]:bg-break":"[&>div]:bg-success")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.timeAccuracy>100?"You tend to underestimate task duration":t.timeAccuracy>80?"Great estimation accuracy!":"Consider tracking more tasks for better insights"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[e.jsxs("div",{className:"p-3 bg-focus/5 rounded-lg border border-focus/20",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg Completion Time"}),e.jsx("p",{className:"text-lg font-bold text-focus",children:m(t.averageCompletionTime)})]}),e.jsxs("div",{className:"p-3 bg-success/5 rounded-lg border border-success/20",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Tasks Tracked"}),e.jsx("p",{className:"text-lg font-bold text-success",children:t.tasksWithTimeCount})]})]}),t.totalEstimatedTime>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex justify-between text-sm",children:e.jsx("span",{className:"text-muted-foreground",children:"Estimated vs Actual"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{className:"text-center p-2 bg-muted/30 rounded",children:[e.jsx("p",{className:"text-muted-foreground",children:"Estimated"}),e.jsx("p",{className:"font-semibold",children:m(t.totalEstimatedTime)})]}),e.jsxs("div",{className:"text-center p-2 bg-focus/10 rounded",children:[e.jsx("p",{className:"text-muted-foreground",children:"Actual"}),e.jsx("p",{className:"font-semibold text-focus",children:m(t.totalTimeSpent)})]})]})]})]})]})]})]})}export{_ as default};
