import{m as mt,r as E,j as e,R as c,O as Xt,n as Gt,T as Kt,o as Jt,p as Qt,q as Zt,s as en,P as tn,e as Q,u as ht,t as me,v as $e,w as Me,x as he,f as nn,g as an,y as rn,k as sn,B as ae,z as on,C as ln,A as cn,l as dn,U as Le,E as un,F as fn,G as mn,H as Ie,J as hn,I as pn,K as gn,L as xn,M as wn,N as vn}from"./index-CmPV5CT1.js";import{S as tt,a as nt,b as at,c as rt,d as ce}from"./select-DWoYBqYA.js";import{C as yn}from"./calendar-OdXi2JbI.js";import{b as bn,i as jn,u as pt,P as Nn,c as Cn,d as Tn,L as Sn,a as Rn,m as re,M as Dn,T as En}from"./proxy-NI_uQqll.js";import{P as Fe}from"./plus-lxv2YYA4.js";import{T as st,a as kn}from"./trending-up-z4_qGM5z.js";import{F as On,A as $n}from"./flame-C5BFthz_.js";import{U as it}from"./user-plus-BgeY3go9.js";import{f as He}from"./format-BmZa2Fkx.js";import"./index-BVtwpD2P.js";import"./en-US-DSSwd-Ay.js";import"./endOfMonth-BNqLjwTF.js";import"./useTouchGestures-DTPpf8I6.js";import"./textarea-CLYlbfuL.js";/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],An=mt("activity",Mn);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Ln=mt("funnel",Pn);class In extends E.Component{getSnapshotBeforeUpdate(a){const n=this.props.childRef.current;if(n&&a.isPresent&&!this.props.isPresent){const s=n.offsetParent,l=jn(s)&&s.offsetWidth||0,r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft,r.right=l-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Fn({children:t,isPresent:a,anchorX:n,root:s}){const l=E.useId(),r=E.useRef(null),d=E.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:g}=E.useContext(bn);return E.useInsertionEffect(()=>{const{width:S,height:y,top:N,left:f,right:o}=d.current;if(a||!r.current||!S||!y)return;const T=n==="left"?`left: ${f}`:`right: ${o}`;r.current.dataset.motionPopId=l;const p=document.createElement("style");g&&(p.nonce=g);const b=s??document.head;return b.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${S}px !important;
            height: ${y}px !important;
            ${T}px !important;
            top: ${N}px !important;
          }
        `),()=>{b.contains(p)&&b.removeChild(p)}},[a]),e.jsx(In,{isPresent:a,childRef:r,sizeRef:d,children:E.cloneElement(t,{ref:r})})}const Hn=({children:t,initial:a,isPresent:n,onExitComplete:s,custom:l,presenceAffectsLayout:r,mode:d,anchorX:g,root:S})=>{const y=pt(_n),N=E.useId();let f=!0,o=E.useMemo(()=>(f=!1,{id:N,initial:a,isPresent:n,custom:l,onExitComplete:T=>{y.set(T,!0);for(const p of y.values())if(!p)return;s&&s()},register:T=>(y.set(T,!1),()=>y.delete(T))}),[n,y,s]);return r&&f&&(o={...o}),E.useMemo(()=>{y.forEach((T,p)=>y.set(p,!1))},[n]),E.useEffect(()=>{!n&&!y.size&&s&&s()},[n]),d==="popLayout"&&(t=e.jsx(Fn,{isPresent:n,anchorX:g,root:S,children:t})),e.jsx(Nn.Provider,{value:o,children:t})};function _n(){return new Map}const Ee=t=>t.key||"";function ot(t){const a=[];return E.Children.forEach(t,n=>{E.isValidElement(n)&&a.push(n)}),a}const lt=({children:t,custom:a,initial:n=!0,onExitComplete:s,presenceAffectsLayout:l=!0,mode:r="sync",propagate:d=!1,anchorX:g="left",root:S})=>{const[y,N]=Cn(d),f=E.useMemo(()=>ot(t),[t]),o=d&&!y?[]:f.map(Ee),T=E.useRef(!0),p=E.useRef(f),b=pt(()=>new Map),[H,x]=E.useState(f),[R,O]=E.useState(f);Tn(()=>{T.current=!1,p.current=f;for(let D=0;D<R.length;D++){const u=Ee(R[D]);o.includes(u)?b.delete(u):b.get(u)!==!0&&b.set(u,!1)}},[R,o.length,o.join("-")]);const h=[];if(f!==H){let D=[...f];for(let u=0;u<R.length;u++){const i=R[u],j=Ee(i);o.includes(j)||(D.splice(u,0,i),h.push(i))}return r==="wait"&&h.length&&(D=h),O(ot(D)),x(f),null}const{forceRender:$}=E.useContext(Sn);return e.jsx(e.Fragment,{children:R.map(D=>{const u=Ee(D),i=d&&!y?!1:f===R||o.includes(u),j=()=>{if(b.has(u))b.set(u,!0);else return;let L=!0;b.forEach(m=>{m||(L=!1)}),L&&($==null||$(),O(p.current),d&&(N==null||N()),s&&s())};return e.jsx(Hn,{isPresent:i,initial:!T.current||n?void 0:!1,custom:a,presenceAffectsLayout:l,mode:r,root:S,onExitComplete:i?void 0:j,anchorX:g,children:D},u)})})};function Bn(t){if(typeof document>"u")return;let a=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",a.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const gt=c.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),we=()=>{const t=c.useContext(gt);if(!t)throw new Error("useDrawerContext must be used within a Drawer.Root");return t};Bn(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,-100%,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(-100%,0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(100%,0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,100%,0)}}@keyframes slideFromTop{from{transform:translate3d(0,-100%,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,-100%,0)}}@keyframes slideFromLeft{from{transform:translate3d(-100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(-100%,0,0)}}@keyframes slideFromRight{from{transform:translate3d(100%,0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(100%,0,0)}}`);const Un=24,zn=typeof window<"u"?E.useLayoutEffect:E.useEffect;function ct(...t){return(...a)=>{for(let n of t)typeof n=="function"&&n(...a)}}function Wn(){return Ye(/^Mac/)}function Vn(){return Ye(/^iPhone/)}function dt(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Yn(){return Ye(/^iPad/)||Wn()&&navigator.maxTouchPoints>1}function xt(){return Vn()||Yn()}function Ye(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const _e=typeof document<"u"&&window.visualViewport;function ut(t){let a=window.getComputedStyle(t);return/(auto|scroll)/.test(a.overflow+a.overflowX+a.overflowY)}function wt(t){for(ut(t)&&(t=t.parentElement);t&&!ut(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const qn=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let ke=0,Be;function Xn(t={}){let{isDisabled:a}=t;zn(()=>{if(!a)return ke++,ke===1&&xt()&&(Be=Gn()),()=>{ke--,ke===0&&(Be==null||Be())}},[a])}function Gn(){let t,a=0,n=f=>{t=wt(f.target),!(t===document.documentElement&&t===document.body)&&(a=f.changedTouches[0].pageY)},s=f=>{if(!t||t===document.documentElement||t===document.body){f.preventDefault();return}let o=f.changedTouches[0].pageY,T=t.scrollTop,p=t.scrollHeight-t.clientHeight;p!==0&&((T<=0&&o>a||T>=p&&o<a)&&f.preventDefault(),a=o)},l=f=>{let o=f.target;We(o)&&o!==document.activeElement&&(f.preventDefault(),o.style.transform="translateY(-2000px)",o.focus(),requestAnimationFrame(()=>{o.style.transform=""}))},r=f=>{let o=f.target;We(o)&&(o.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{o.style.transform="",_e&&(_e.height<window.innerHeight?requestAnimationFrame(()=>{ft(o)}):_e.addEventListener("resize",()=>ft(o),{once:!0}))}))},d=()=>{window.scrollTo(0,0)},g=window.pageXOffset,S=window.pageYOffset,y=ct(Kn(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let N=ct(Te(document,"touchstart",n,{passive:!1,capture:!0}),Te(document,"touchmove",s,{passive:!1,capture:!0}),Te(document,"touchend",l,{passive:!1,capture:!0}),Te(document,"focus",r,!0),Te(window,"scroll",d));return()=>{y(),N(),window.scrollTo(g,S)}}function Kn(t,a,n){let s=t.style[a];return t.style[a]=n,()=>{t.style[a]=s}}function Te(t,a,n,s){return t.addEventListener(a,n,s),()=>{t.removeEventListener(a,n,s)}}function ft(t){let a=document.scrollingElement||document.documentElement;for(;t&&t!==a;){let n=wt(t);if(n!==document.documentElement&&n!==document.body&&n!==t){let s=n.getBoundingClientRect().top,l=t.getBoundingClientRect().top,r=t.getBoundingClientRect().bottom;const d=n.getBoundingClientRect().bottom+Un;r>d&&(n.scrollTop+=l-s)}t=n.parentElement}}function We(t){return t instanceof HTMLInputElement&&!qn.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function Jn(t,a){typeof t=="function"?t(a):t!=null&&(t.current=a)}function Qn(...t){return a=>t.forEach(n=>Jn(n,a))}function vt(...t){return E.useCallback(Qn(...t),t)}const yt=new WeakMap;function B(t,a,n=!1){if(!t||!(t instanceof HTMLElement))return;let s={};Object.entries(a).forEach(([l,r])=>{if(l.startsWith("--")){t.style.setProperty(l,r);return}s[l]=t.style[l],t.style[l]=r}),!n&&yt.set(t,s)}function Zn(t,a){if(!t||!(t instanceof HTMLElement))return;let n=yt.get(t);n&&(t.style[a]=n[a])}const U=t=>{switch(t){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return t}};function Oe(t,a){if(!t)return null;const n=window.getComputedStyle(t),s=n.transform||n.webkitTransform||n.mozTransform;let l=s.match(/^matrix3d\((.+)\)$/);return l?parseFloat(l[1].split(", ")[U(a)?13:12]):(l=s.match(/^matrix\((.+)\)$/),l?parseFloat(l[1].split(", ")[U(a)?5:4]):null)}function ea(t){return 8*(Math.log(t+1)-2)}function Ue(t,a){if(!t)return()=>{};const n=t.style.cssText;return Object.assign(t.style,a),()=>{t.style.cssText=n}}function ta(...t){return(...a)=>{for(const n of t)typeof n=="function"&&n(...a)}}const F={DURATION:.5,EASE:[.32,.72,0,1]},bt=.4,na=.25,aa=100,jt=8,fe=16,Ve=26,ze="vaul-dragging";function Nt(t){const a=c.useRef(t);return c.useEffect(()=>{a.current=t}),c.useMemo(()=>(...n)=>a.current==null?void 0:a.current.call(a,...n),[])}function ra({defaultProp:t,onChange:a}){const n=c.useState(t),[s]=n,l=c.useRef(s),r=Nt(a);return c.useEffect(()=>{l.current!==s&&(r(s),l.current=s)},[s,l,r]),n}function Ct({prop:t,defaultProp:a,onChange:n=()=>{}}){const[s,l]=ra({defaultProp:a,onChange:n}),r=t!==void 0,d=r?t:s,g=Nt(n),S=c.useCallback(y=>{if(r){const f=typeof y=="function"?y(t):y;f!==t&&g(f)}else l(y)},[r,t,l,g]);return[d,S]}function sa({activeSnapPointProp:t,setActiveSnapPointProp:a,snapPoints:n,drawerRef:s,overlayRef:l,fadeFromIndex:r,onSnapPointChange:d,direction:g="bottom",container:S,snapToSequentialPoint:y}){const[N,f]=Ct({prop:t,defaultProp:n==null?void 0:n[0],onChange:a}),[o,T]=c.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);c.useEffect(()=>{function u(){T({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]);const p=c.useMemo(()=>N===(n==null?void 0:n[n.length-1])||null,[n,N]),b=c.useMemo(()=>n==null?void 0:n.findIndex(u=>u===N),[n,N]),H=n&&n.length>0&&(r||r===0)&&!Number.isNaN(r)&&n[r]===N||!n,x=c.useMemo(()=>{const u=S?{width:S.getBoundingClientRect().width,height:S.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var i;return(i=n==null?void 0:n.map(j=>{const L=typeof j=="string";let m=0;if(L&&(m=parseInt(j,10)),U(g)){const _=L?m:o?j*u.height:0;return o?g==="bottom"?u.height-_:-u.height+_:_}const z=L?m:o?j*u.width:0;return o?g==="right"?u.width-z:-u.width+z:z}))!=null?i:[]},[n,o,S]),R=c.useMemo(()=>b!==null?x==null?void 0:x[b]:null,[x,b]),O=c.useCallback(u=>{var i;const j=(i=x==null?void 0:x.findIndex(L=>L===u))!=null?i:null;d(j),B(s.current,{transition:`transform ${F.DURATION}s cubic-bezier(${F.EASE.join(",")})`,transform:U(g)?`translate3d(0, ${u}px, 0)`:`translate3d(${u}px, 0, 0)`}),x&&j!==x.length-1&&j!==r&&j<r?B(l.current,{transition:`opacity ${F.DURATION}s cubic-bezier(${F.EASE.join(",")})`,opacity:"0"}):B(l.current,{transition:`opacity ${F.DURATION}s cubic-bezier(${F.EASE.join(",")})`,opacity:"1"}),f(n==null?void 0:n[Math.max(j,0)])},[s.current,n,x,r,l,f]);c.useEffect(()=>{if(N||t){var u;const i=(u=n==null?void 0:n.findIndex(j=>j===t||j===N))!=null?u:-1;x&&i!==-1&&typeof x[i]=="number"&&O(x[i])}},[N,t,n,x,O]);function h({draggedDistance:u,closeDrawer:i,velocity:j,dismissible:L}){if(r===void 0)return;const m=g==="bottom"||g==="right"?(R??0)-u:(R??0)+u,z=b===r-1,_=b===0,W=u>0;if(z&&B(l.current,{transition:`opacity ${F.DURATION}s cubic-bezier(${F.EASE.join(",")})`}),!y&&j>2&&!W){L?i():O(x[0]);return}if(!y&&j>2&&W&&x&&n){O(x[n.length-1]);return}const V=x==null?void 0:x.reduce((Y,se)=>typeof Y!="number"||typeof se!="number"?Y:Math.abs(se-m)<Math.abs(Y-m)?se:Y),K=U(g)?window.innerHeight:window.innerWidth;if(j>bt&&Math.abs(u)<K*.4){const Y=W?1:-1;if(Y>0&&p){O(x[n.length-1]);return}if(_&&Y<0&&L&&i(),b===null)return;O(x[b+Y]);return}O(V)}function $({draggedDistance:u}){if(R===null)return;const i=g==="bottom"||g==="right"?R-u:R+u;(g==="bottom"||g==="right")&&i<x[x.length-1]||(g==="top"||g==="left")&&i>x[x.length-1]||B(s.current,{transform:U(g)?`translate3d(0, ${i}px, 0)`:`translate3d(${i}px, 0, 0)`})}function D(u,i){if(!n||typeof b!="number"||!x||r===void 0)return null;const j=b===r-1;if(b>=r&&i)return 0;if(j&&!i)return 1;if(!H&&!j)return null;const m=j?b+1:b-1,z=j?x[m]-x[m-1]:x[m+1]-x[m],_=u/Math.abs(z);return j?1-_:_}return{isLastSnapPoint:p,activeSnapPoint:N,shouldFade:H,getPercentageDragged:D,setActiveSnapPoint:f,activeSnapPointIndex:b,onRelease:h,onDrag:$,snapPointsOffset:x}}const ia=()=>()=>{};function oa(){const{direction:t,isOpen:a,shouldScaleBackground:n,setBackgroundColorOnScale:s,noBodyStyles:l}=we(),r=c.useRef(null),d=E.useMemo(()=>document.body.style.backgroundColor,[]);function g(){return(window.innerWidth-Ve)/window.innerWidth}c.useEffect(()=>{if(a&&n){r.current&&clearTimeout(r.current);const S=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!S)return;ta(s&&!l?Ue(document.body,{background:"black"}):ia,Ue(S,{transformOrigin:U(t)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${F.DURATION}s`,transitionTimingFunction:`cubic-bezier(${F.EASE.join(",")})`}));const y=Ue(S,{borderRadius:`${jt}px`,overflow:"hidden",...U(t)?{transform:`scale(${g()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${g()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{y(),r.current=window.setTimeout(()=>{d?document.body.style.background=d:document.body.style.removeProperty("background")},F.DURATION*1e3)}}},[a,n,d])}let Se=null;function la({isOpen:t,modal:a,nested:n,hasBeenOpened:s,preventScrollRestoration:l,noBodyStyles:r}){const[d,g]=c.useState(()=>typeof window<"u"?window.location.href:""),S=c.useRef(0),y=c.useCallback(()=>{if(dt()&&Se===null&&t&&!r){Se={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:o}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-S.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const T=o-window.innerHeight;T&&S.current>=o&&(document.body.style.top=`${-(S.current+T)}px`)}),300)}},[t]),N=c.useCallback(()=>{if(dt()&&Se!==null&&!r){const f=-parseInt(document.body.style.top,10),o=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Se),window.requestAnimationFrame(()=>{if(l&&d!==window.location.href){g(window.location.href);return}window.scrollTo(o,f)}),Se=null}},[d]);return c.useEffect(()=>{function f(){S.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),c.useEffect(()=>{n||!s||(t?(!window.matchMedia("(display-mode: standalone)").matches&&y(),a||window.setTimeout(()=>{N()},500)):N())},[t,s,d,a,n,y,N]),{restorePositionSetting:N}}function Tt({open:t,onOpenChange:a,children:n,onDrag:s,onRelease:l,snapPoints:r,shouldScaleBackground:d=!1,setBackgroundColorOnScale:g=!0,closeThreshold:S=na,scrollLockTimeout:y=aa,dismissible:N=!0,handleOnly:f=!1,fadeFromIndex:o=r&&r.length-1,activeSnapPoint:T,setActiveSnapPoint:p,fixed:b,modal:H=!0,onClose:x,nested:R,noBodyStyles:O,direction:h="bottom",defaultOpen:$=!1,disablePreventScroll:D=!0,snapToSequentialPoint:u=!1,preventScrollRestoration:i=!1,repositionInputs:j=!0,onAnimationEnd:L,container:m,autoFocus:z=!1}){var _,W;const[V=!1,K]=Ct({defaultProp:$,prop:t,onChange:v=>{a==null||a(v),!v&&!R&&_t(),setTimeout(()=>{L==null||L(v)},F.DURATION*1e3),v&&!H&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),v||(document.body.style.pointerEvents="auto")}}),[Y,se]=c.useState(!1),[ie,pe]=c.useState(!1),[ve,ye]=c.useState(!1),Z=c.useRef(null),de=c.useRef(null),w=c.useRef(null),k=c.useRef(null),X=c.useRef(null),oe=c.useRef(!1),be=c.useRef(null),Ae=c.useRef(0),ge=c.useRef(!1),qe=c.useRef(0),C=c.useRef(null),Xe=c.useRef(((_=C.current)==null?void 0:_.getBoundingClientRect().height)||0),Ge=c.useRef(((W=C.current)==null?void 0:W.getBoundingClientRect().width)||0),Pe=c.useRef(0),Pt=c.useCallback(v=>{r&&v===Ne.length-1&&(de.current=new Date)},[]),{activeSnapPoint:Lt,activeSnapPointIndex:je,setActiveSnapPoint:Ke,onRelease:It,snapPointsOffset:Ne,onDrag:Ft,shouldFade:Je,getPercentageDragged:Ht}=sa({snapPoints:r,activeSnapPointProp:T,setActiveSnapPointProp:p,drawerRef:C,fadeFromIndex:o,overlayRef:Z,onSnapPointChange:Pt,direction:h,container:m,snapToSequentialPoint:u});Xn({isDisabled:!V||ie||!H||ve||!Y||!j||!D});const{restorePositionSetting:_t}=la({isOpen:V,modal:H,nested:R,hasBeenOpened:Y,preventScrollRestoration:i,noBodyStyles:O});function Re(){return(window.innerWidth-Ve)/window.innerWidth}function Bt(v){var M,P;!N&&!r||C.current&&!C.current.contains(v.target)||(Xe.current=((M=C.current)==null?void 0:M.getBoundingClientRect().height)||0,Ge.current=((P=C.current)==null?void 0:P.getBoundingClientRect().width)||0,pe(!0),w.current=new Date,xt()&&window.addEventListener("touchend",()=>oe.current=!1,{once:!0}),v.target.setPointerCapture(v.pointerId),Ae.current=U(h)?v.pageY:v.pageX)}function Qe(v,M){var P,I;let A=v;const J=(P=window.getSelection())==null?void 0:P.toString(),q=C.current?Oe(C.current,h):null,G=new Date;if(A.hasAttribute("data-vaul-no-drag")||A.closest("[data-vaul-no-drag]"))return!1;if(h==="right"||h==="left")return!0;if(de.current&&G.getTime()-de.current.getTime()<500)return!1;if(q!==null&&(h==="bottom"?q>0:q<0))return!0;if(J&&J.length>0)return!1;if(G.getTime()-((I=X.current)==null?void 0:I.getTime())<y&&q===0||M)return X.current=G,!1;for(;A;){if(A.scrollHeight>A.clientHeight){if(A.scrollTop!==0)return X.current=new Date,!1;if(A.getAttribute("role")==="dialog")return!0}A=A.parentNode}return!0}function Ut(v){if(C.current&&ie){const M=h==="bottom"||h==="right"?1:-1,P=(Ae.current-(U(h)?v.pageY:v.pageX))*M,I=P>0,A=r&&!N&&!I;if(A&&je===0)return;const J=Math.abs(P),q=document.querySelector("[data-vaul-drawer-wrapper]"),G=h==="bottom"||h==="top"?Xe.current:Ge.current;let ee=J/G;const ue=Ht(J,I);if(ue!==null&&(ee=ue),A&&ee>=1||!oe.current&&!Qe(v.target,I))return;if(C.current.classList.add(ze),oe.current=!0,B(C.current,{transition:"none"}),B(Z.current,{transition:"none"}),r&&Ft({draggedDistance:P}),I&&!r){const ne=ea(P),De=Math.min(ne*-1,0)*M;B(C.current,{transform:U(h)?`translate3d(0, ${De}px, 0)`:`translate3d(${De}px, 0, 0)`});return}const le=1-ee;if((Je||o&&je===o-1)&&(s==null||s(v,ee),B(Z.current,{opacity:`${le}`,transition:"none"},!0)),q&&Z.current&&d){const ne=Math.min(Re()+ee*(1-Re()),1),De=8-ee*8,et=Math.max(0,14-ee*14);B(q,{borderRadius:`${De}px`,transform:U(h)?`scale(${ne}) translate3d(0, ${et}px, 0)`:`scale(${ne}) translate3d(${et}px, 0, 0)`,transition:"none"},!0)}if(!r){const ne=J*M;B(C.current,{transform:U(h)?`translate3d(0, ${ne}px, 0)`:`translate3d(${ne}px, 0, 0)`})}}}c.useEffect(()=>{var v;function M(){if(!C.current||!j)return;const P=document.activeElement;if(We(P)||ge.current){var I;const A=((I=window.visualViewport)==null?void 0:I.height)||0,J=window.innerHeight;let q=J-A;const G=C.current.getBoundingClientRect().height||0,ee=G>J*.8;Pe.current||(Pe.current=G);const ue=C.current.getBoundingClientRect().top;if(Math.abs(qe.current-q)>60&&(ge.current=!ge.current),r&&r.length>0&&Ne&&je){const le=Ne[je]||0;q+=le}if(qe.current=q,G>A||ge.current){const le=C.current.getBoundingClientRect().height;let ne=le;le>A&&(ne=A-(ee?ue:Ve)),b?C.current.style.height=`${le-Math.max(q,0)}px`:C.current.style.height=`${Math.max(ne,A-ue)}px`}else C.current.style.height=`${Pe.current}px`;r&&r.length>0&&!ge.current?C.current.style.bottom="0px":C.current.style.bottom=`${Math.max(q,0)}px`}}return(v=window.visualViewport)==null||v.addEventListener("resize",M),()=>{var P;return(P=window.visualViewport)==null?void 0:P.removeEventListener("resize",M)}},[je,r,Ne]);function Ce(v){zt(),x==null||x(),v||K(!1),setTimeout(()=>{r&&Ke(r[0])},F.DURATION*1e3)}function Ze(){if(!C.current)return;const v=document.querySelector("[data-vaul-drawer-wrapper]"),M=Oe(C.current,h);B(C.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${F.DURATION}s cubic-bezier(${F.EASE.join(",")})`}),B(Z.current,{transition:`opacity ${F.DURATION}s cubic-bezier(${F.EASE.join(",")})`,opacity:"1"}),d&&M&&M>0&&V&&B(v,{borderRadius:`${jt}px`,overflow:"hidden",...U(h)?{transform:`scale(${Re()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Re()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${F.DURATION}s`,transitionTimingFunction:`cubic-bezier(${F.EASE.join(",")})`},!0)}function zt(){!ie||!C.current||(C.current.classList.remove(ze),oe.current=!1,pe(!1),k.current=new Date)}function Wt(v){if(!ie||!C.current)return;C.current.classList.remove(ze),oe.current=!1,pe(!1),k.current=new Date;const M=Oe(C.current,h);if(!Qe(v.target,!1)||!M||Number.isNaN(M)||w.current===null)return;const P=k.current.getTime()-w.current.getTime(),I=Ae.current-(U(h)?v.pageY:v.pageX),A=Math.abs(I)/P;if(A>.05&&(ye(!0),setTimeout(()=>{ye(!1)},200)),r){It({draggedDistance:I*(h==="bottom"||h==="right"?1:-1),closeDrawer:Ce,velocity:A,dismissible:N}),l==null||l(v,!0);return}if(h==="bottom"||h==="right"?I>0:I<0){Ze(),l==null||l(v,!0);return}if(A>bt){Ce(),l==null||l(v,!1);return}var J;const q=Math.min((J=C.current.getBoundingClientRect().height)!=null?J:0,window.innerHeight);var G;const ee=Math.min((G=C.current.getBoundingClientRect().width)!=null?G:0,window.innerWidth),ue=h==="left"||h==="right";if(Math.abs(M)>=(ue?ee:q)*S){Ce(),l==null||l(v,!1);return}l==null||l(v,!0),Ze()}c.useEffect(()=>(V&&(B(document.documentElement,{scrollBehavior:"auto"}),de.current=new Date),()=>{Zn(document.documentElement,"scrollBehavior")}),[V]);function Vt(v){const M=v?(window.innerWidth-fe)/window.innerWidth:1,P=v?-fe:0;be.current&&window.clearTimeout(be.current),B(C.current,{transition:`transform ${F.DURATION}s cubic-bezier(${F.EASE.join(",")})`,transform:`scale(${M}) translate3d(0, ${P}px, 0)`}),!v&&C.current&&(be.current=setTimeout(()=>{const I=Oe(C.current,h);B(C.current,{transition:"none",transform:U(h)?`translate3d(0, ${I}px, 0)`:`translate3d(${I}px, 0, 0)`})},500))}function Yt(v,M){if(M<0)return;const P=(window.innerWidth-fe)/window.innerWidth,I=P+M*(1-P),A=-fe+M*fe;B(C.current,{transform:U(h)?`scale(${I}) translate3d(0, ${A}px, 0)`:`scale(${I}) translate3d(${A}px, 0, 0)`,transition:"none"})}function qt(v,M){const P=U(h)?window.innerHeight:window.innerWidth,I=M?(P-fe)/P:1,A=M?-fe:0;M&&B(C.current,{transition:`transform ${F.DURATION}s cubic-bezier(${F.EASE.join(",")})`,transform:U(h)?`scale(${I}) translate3d(0, ${A}px, 0)`:`scale(${I}) translate3d(${A}px, 0, 0)`})}return c.createElement(en,{defaultOpen:$,onOpenChange:v=>{!N&&!v||(v?se(!0):Ce(!0),K(v))},open:V},c.createElement(gt.Provider,{value:{activeSnapPoint:Lt,snapPoints:r,setActiveSnapPoint:Ke,drawerRef:C,overlayRef:Z,onOpenChange:a,onPress:Bt,onRelease:Wt,onDrag:Ut,dismissible:N,handleOnly:f,isOpen:V,isDragging:ie,shouldFade:Je,closeDrawer:Ce,onNestedDrag:Yt,onNestedOpenChange:Vt,onNestedRelease:qt,keyboardIsOpen:ge,modal:H,snapPointsOffset:Ne,direction:h,shouldScaleBackground:d,setBackgroundColorOnScale:g,noBodyStyles:O,container:m,autoFocus:z}},n))}const St=c.forwardRef(function({...t},a){const{overlayRef:n,snapPoints:s,onRelease:l,shouldFade:r,isOpen:d,modal:g}=we(),S=vt(a,n),y=s&&s.length>0;return g?c.createElement(Xt,{onMouseUp:l,ref:S,"data-vaul-overlay":"","data-vaul-snap-points":d&&y?"true":"false","data-vaul-snap-points-overlay":d&&r?"true":"false",...t}):(typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),null)});St.displayName="Drawer.Overlay";const Rt=c.forwardRef(function({onPointerDownOutside:t,style:a,onOpenAutoFocus:n,...s},l){const{drawerRef:r,onPress:d,onRelease:g,onDrag:S,keyboardIsOpen:y,snapPointsOffset:N,modal:f,isOpen:o,direction:T,snapPoints:p,container:b,handleOnly:H,autoFocus:x}=we(),[R,O]=c.useState(!1),h=vt(l,r),$=c.useRef(null),D=c.useRef(null),u=c.useRef(!1),i=p&&p.length>0;oa();const j=(m,z,_=0)=>{if(u.current)return!0;const W=Math.abs(m.y),V=Math.abs(m.x),K=V>W,Y=["bottom","right"].includes(z)?1:-1;if(z==="left"||z==="right"){if(!(m.x*Y<0)&&V>=0&&V<=_)return K}else if(!(m.y*Y<0)&&W>=0&&W<=_)return!K;return u.current=!0,!0};c.useEffect(()=>{i&&window.requestAnimationFrame(()=>{O(!0)})},[]);function L(m){$.current=null,u.current=!1,g(m)}return c.createElement(Gt,{"data-vaul-drawer-direction":T,"data-vaul-drawer":"","data-vaul-delayed-snap-points":R?"true":"false","data-vaul-snap-points":o&&i?"true":"false","data-vaul-custom-container":b?"true":"false",...s,ref:h,style:N&&N.length>0?{"--snap-point-height":`${N[0]}px`,...a}:a,onPointerDown:m=>{H||(s.onPointerDown==null||s.onPointerDown.call(s,m),$.current={x:m.pageX,y:m.pageY},d(m))},onOpenAutoFocus:m=>{n==null||n(m),x||m.preventDefault()},onPointerDownOutside:m=>{if(t==null||t(m),!f||m.defaultPrevented){m.preventDefault();return}y.current&&(y.current=!1)},onFocusOutside:m=>{if(!f){m.preventDefault();return}},onPointerMove:m=>{if(D.current=m,H||(s.onPointerMove==null||s.onPointerMove.call(s,m),!$.current))return;const z=m.pageY-$.current.y,_=m.pageX-$.current.x,W=m.pointerType==="touch"?10:2;j({x:_,y:z},T,W)?S(m):(Math.abs(_)>W||Math.abs(z)>W)&&($.current=null)},onPointerUp:m=>{s.onPointerUp==null||s.onPointerUp.call(s,m),$.current=null,u.current=!1,g(m)},onPointerOut:m=>{s.onPointerOut==null||s.onPointerOut.call(s,m),L(D.current)},onContextMenu:m=>{s.onContextMenu==null||s.onContextMenu.call(s,m),L(D.current)}})});Rt.displayName="Drawer.Content";const ca=250,da=120,Dt=c.forwardRef(function({preventCycle:t=!1,children:a,...n},s){const{closeDrawer:l,isDragging:r,snapPoints:d,activeSnapPoint:g,setActiveSnapPoint:S,dismissible:y,handleOnly:N,isOpen:f,onPress:o,onDrag:T}=we(),p=c.useRef(null),b=c.useRef(!1);function H(){if(b.current){O();return}window.setTimeout(()=>{x()},da)}function x(){if(r||t||b.current){O();return}if(O(),(!d||d.length===0)&&y){l();return}if(g===d[d.length-1]&&y){l();return}const $=d.findIndex(u=>u===g);if($===-1)return;const D=d[$+1];S(D)}function R(){p.current=window.setTimeout(()=>{b.current=!0},ca)}function O(){window.clearTimeout(p.current),b.current=!1}return c.createElement("div",{onClick:H,onPointerCancel:O,onPointerDown:h=>{N&&o(h),R()},onPointerMove:h=>{N&&T(h)},ref:s,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},c.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},a))});Dt.displayName="Drawer.Handle";function ua({onDrag:t,onOpenChange:a,...n}){const{onNestedDrag:s,onNestedOpenChange:l,onNestedRelease:r}=we();if(!s)throw new Error("Drawer.NestedRoot must be placed in another drawer");return c.createElement(Tt,{nested:!0,onClose:()=>{l(!1)},onDrag:(d,g)=>{s(d,g),t==null||t(d,g)},onOpenChange:d=>{d&&l(d)},onRelease:r,...n})}function fa(t){const a=we(),{container:n=a.container,...s}=t;return c.createElement(tn,{container:n,...s})}const te={Root:Tt,NestedRoot:ua,Content:Rt,Overlay:St,Trigger:Kt,Portal:fa,Handle:Dt,Close:Jt,Title:Qt,Description:Zt},Et=({shouldScaleBackground:t=!0,...a})=>e.jsx(te.Root,{shouldScaleBackground:t,...a});Et.displayName="Drawer";const ma=te.Trigger,ha=te.Portal,pa=te.Close,kt=E.forwardRef(({className:t,...a},n)=>e.jsx(te.Overlay,{ref:n,className:Q("fixed inset-0 z-50 bg-black/80",t),...a}));kt.displayName=te.Overlay.displayName;const Ot=E.forwardRef(({className:t,children:a,...n},s)=>e.jsxs(ha,{children:[e.jsx(kt,{}),e.jsxs(te.Content,{ref:s,className:Q("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",t),...n,children:[e.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),a]})]}));Ot.displayName="DrawerContent";const $t=({className:t,...a})=>e.jsx("div",{className:Q("grid gap-1.5 p-4 text-center sm:text-left",t),...a});$t.displayName="DrawerHeader";const Mt=({className:t,...a})=>e.jsx("div",{className:Q("mt-auto flex flex-col gap-2 p-4",t),...a});Mt.displayName="DrawerFooter";const At=E.forwardRef(({className:t,...a},n)=>e.jsx(te.Title,{ref:n,className:Q("text-lg font-semibold leading-none tracking-tight",t),...a}));At.displayName=te.Title.displayName;const ga=E.forwardRef(({className:t,...a},n)=>e.jsx(te.Description,{ref:n,className:Q("text-sm text-muted-foreground",t),...a}));ga.displayName=te.Description.displayName;const xa=()=>{var y,N,f;const{tasks:t,getTasksCompletedOnDate:a}=ht(),s=t.filter(o=>o.status==="completed").length,l=()=>{const o=new Date,T=new Date(o);T.setFullYear(o.getFullYear()-1),T.setDate(T.getDate()+1);const p=new Date(T),b=p.getDay();p.setDate(p.getDate()-b);const H=[],x=[];let R=-1;for(let O=0;O<53;O++){const h=[];for(let $=0;$<7;$++){const D=new Date(p);if(D.setDate(p.getDate()+O*7+$),$===0&&D.getMonth()!==R&&(R=D.getMonth(),x.push({month:D.toLocaleDateString("en-US",{month:"short"}),weekIndex:O})),D<=o&&D>=T){const i=a(D).length;let j=0;i>=5?j=4:i>=3?j=3:i>=2?j=2:i>=1&&(j=1),h.push({level:j,count:i,date:D.toISOString().split("T")[0]})}else h.push({level:0,count:0,date:D.toISOString().split("T")[0]})}H.push(h)}return{grid:H,monthLabels:x}},{grid:r,monthLabels:d}=l(),g=o=>{switch(o){case 0:return"bg-muted/30 dark:bg-muted/20";case 1:return"bg-success/30 dark:bg-success/40";case 2:return"bg-success/50 dark:bg-success/60";case 3:return"bg-success/70 dark:bg-success/80";case 4:return"bg-success dark:bg-success";default:return"bg-muted/30 dark:bg-muted/20"}},S=o=>{const p=new Date(o.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return o.count===0?`No tasks completed on ${p}`:o.count===1?`1 task completed on ${p}`:`${o.count} tasks completed on ${p}`};return e.jsxs(me,{children:[e.jsxs($e,{children:[e.jsx(Me,{className:"flex items-center gap-2",children:e.jsx("span",{className:"text-lg"})}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsx("span",{className:"text-2xl font-bold text-primary",children:s})," tasks completed in the last year",e.jsx("br",{}),"Your productivity journey visualized"]})]}),e.jsx(he,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx("span",{className:"text-2xl font-bold text-primary",children:"2025"})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"relative h-4 mb-2 hidden sm:block",children:d.map((o,T)=>e.jsx("div",{className:"absolute text-xs text-muted-foreground",style:{left:`${o.weekIndex*16+32}px`},children:o.month},T))}),e.jsxs("div",{className:"flex gap-1 overflow-x-auto pb-2 scrollbar-hide",children:[e.jsxs("div",{className:"hidden sm:flex flex-col gap-1 text-xs text-muted-foreground w-8 shrink-0",children:[e.jsx("div",{className:"h-3"}),e.jsx("div",{children:"Mon"}),e.jsx("div",{className:"h-3"}),e.jsx("div",{children:"Wed"}),e.jsx("div",{className:"h-3"}),e.jsx("div",{children:"Fri"}),e.jsx("div",{className:"h-3"})]}),e.jsx("div",{className:"flex gap-1 min-w-max",children:r.map((o,T)=>e.jsx("div",{className:"flex flex-col gap-1",children:o.map((p,b)=>e.jsx("div",{className:Q("rounded-sm cursor-pointer transition-all active:scale-95","w-2.5 h-2.5 sm:w-3 sm:h-3","hover:ring-2 hover:ring-primary/50 touch-manipulation",g(p.level)),title:S(p),onClick:()=>{window.innerWidth<640&&alert(S(p))}},b))},T))})]}),e.jsxs("div",{className:"sm:hidden mt-2 flex justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:((y=d[0])==null?void 0:y.month)||"Jan"}),e.jsx("span",{children:((N=d[Math.floor(d.length/2)])==null?void 0:N.month)||"Jun"}),e.jsx("span",{children:((f=d[d.length-1])==null?void 0:f.month)||"Dec"})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:"Learn how we count contributions"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{children:"Less"}),e.jsx("div",{className:"flex gap-1",children:[0,1,2,3,4].map(o=>e.jsx("div",{className:`w-3 h-3 rounded-sm ${g(o)}`},o))}),e.jsx("span",{children:"More"})]})]})]})})]})},wa={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},xe={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};function Ma(){const{tasks:t,teamMembers:a,setTaskFormActive:n,addTask:s,updateTask:l,deleteTask:r,toggleTaskStatus:d,toggleTaskPriority:g,getTotalTasksCount:S,getCompletedTasksCount:y,getActiveTasksCount:N,getCurrentStreak:f,getLongestStreak:o}=ht(),{startTaskTimer:T}=nn(),{user:p,userProfile:b}=an(),H=rn(),x=sn(),[R,O]=E.useState(null),[h,$]=E.useState(!1),[D,u]=E.useState(!1),[i,j]=E.useState({status:"all",priority:"all",dateRange:{from:void 0,to:void 0},search:""});E.useEffect(()=>(n(h||!!R),()=>n(!1)),[h,R,n]);const L=S(),m=y(),z=N(),_=f(),W=o(),V=L>0?Math.round(m/L*100):0,K=t.filter(w=>{var k;if(i.status!=="all"&&w.status!==i.status||i.priority!=="all"&&w.priority!==i.priority||i.search&&!w.title.toLowerCase().includes(i.search.toLowerCase())&&!((k=w.description)!=null&&k.toLowerCase().includes(i.search.toLowerCase())))return!1;if(i.dateRange.from||i.dateRange.to){const X=new Date(w.createdAt);if(i.dateRange.from&&X<i.dateRange.from||i.dateRange.to&&X>i.dateRange.to)return!1}return!0}),Y=w=>{s({...w,createdBy:(p==null?void 0:p.uid)||void 0}),$(!1)},se=w=>{R&&(l(R.id,w),O(null))},ie=w=>{const k=t.find(X=>X.id===w);k&&T(k)},pe=()=>{j({status:"all",priority:"all",dateRange:{from:void 0,to:void 0},search:""}),x&&u(!1)},ve=()=>{let w=0;return i.status!=="all"&&w++,i.priority!=="all"&&w++,i.search&&w++,i.dateRange.from&&w++,w},ye=w=>!w||w.length===0?[]:w.map(k=>a.find(X=>X.uid===k)).filter(k=>k!==void 0);if(h||R)return e.jsx("div",{className:"container max-w-2xl mx-auto p-4 sm:p-6",children:e.jsx(Rn,{task:R,onSubmit:R?se:Y,onCancel:()=>{$(!1),O(null)},teamMembers:a})});const Z=({title:w,value:k,icon:X,colorClass:oe,bgColorClass:be})=>e.jsx(re.div,{variants:xe,children:e.jsx(me,{className:"shadow-elegant overflow-hidden",children:e.jsxs(he,{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:w}),e.jsx("p",{className:Q("text-xl sm:text-2xl font-bold",oe),children:k})]}),e.jsx("div",{className:Q("h-10 w-10 sm:h-12 sm:w-12 rounded-lg flex items-center justify-center",be),children:e.jsx(X,{className:Q("h-5 w-5 sm:h-6 sm:w-6",oe)})})]})})}),de=({inDrawer:w=!1})=>e.jsxs("div",{className:Q("grid gap-4",w?"grid-cols-1 p-4":"sm:grid-cols-2 lg:grid-cols-4"),children:[e.jsxs("div",{className:"relative",children:[e.jsx(hn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(pn,{placeholder:"Search tasks...",value:i.search,onChange:k=>j({...i,search:k.target.value}),className:"pl-10"})]}),e.jsxs(tt,{value:i.status,onValueChange:k=>j({...i,status:k}),children:[e.jsx(nt,{children:e.jsx(at,{placeholder:"Filter by status"})}),e.jsxs(rt,{children:[e.jsx(ce,{value:"all",children:"All Status"}),e.jsx(ce,{value:"todo",children:"To Do"}),e.jsx(ce,{value:"in-progress",children:"In Progress"}),e.jsx(ce,{value:"completed",children:"Completed"})]})]}),e.jsxs(tt,{value:i.priority,onValueChange:k=>j({...i,priority:k}),children:[e.jsx(nt,{children:e.jsx(at,{placeholder:"Filter by priority"})}),e.jsxs(rt,{children:[e.jsx(ce,{value:"all",children:"All Priority"}),e.jsx(ce,{value:"low",children:"Low"}),e.jsx(ce,{value:"medium",children:"Medium"}),e.jsx(ce,{value:"high",children:"High"})]})]}),e.jsxs(gn,{children:[e.jsx(xn,{asChild:!0,children:e.jsxs(ae,{variant:"outline",className:Q("justify-start text-left font-normal",!i.dateRange.from&&"text-muted-foreground"),children:[e.jsx(wn,{className:"mr-2 h-4 w-4"}),i.dateRange.from?i.dateRange.to?`${He(i.dateRange.from,"LLL dd")} - ${He(i.dateRange.to,"LLL dd")}`:He(i.dateRange.from,"LLL dd, y"):e.jsx("span",{children:"Pick a date range"})]})}),e.jsx(vn,{className:"w-auto p-0",align:"start",children:e.jsx(yn,{initialFocus:!0,mode:"range",selected:i.dateRange,onSelect:k=>j({...i,dateRange:{from:k==null?void 0:k.from,to:k==null?void 0:k.to}}),numberOfMonths:x?1:2})})]})]});return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"container max-w-7xl mx-auto p-4 md:p-6 space-y-6",children:[e.jsx(re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"Dashboard"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Welcome back, ",(b==null?void 0:b.displayName)||(p==null?void 0:p.email),"!"]})]}),!x&&e.jsxs(ae,{onClick:()=>$(!0),variant:"focus",className:"hover-scale",children:[e.jsx(Fe,{className:"h-4 w-4 mr-2"})," New Task"]})]})}),e.jsxs(re.div,{variants:wa,initial:"hidden",animate:"visible",className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Z,{title:"Total Tasks",value:L,icon:st,colorClass:"text-primary",bgColorClass:"bg-primary/10"}),e.jsx(Z,{title:"Completed",value:m,icon:on,colorClass:"text-success",bgColorClass:"bg-success/10"}),e.jsx(Z,{title:"Active Tasks",value:z,icon:ln,colorClass:"text-focus",bgColorClass:"bg-focus/10"}),e.jsx(Z,{title:"Completion Rate",value:`${V}%`,icon:kn,colorClass:"text-break",bgColorClass:"bg-break/10"}),e.jsx(re.div,{variants:xe,className:"col-span-2 sm:col-span-1 lg:col-span-2",children:e.jsx(me,{className:"shadow-elegant",children:e.jsxs(he,{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Current Streak"}),e.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-orange-500",children:[_," ",_===1?"day":"days"]})]}),e.jsx("div",{className:"h-10 w-10 sm:h-12 sm:w-12 rounded-lg flex items-center justify-center bg-orange-500/10",children:e.jsx(On,{className:"h-5 w-5 sm:h-6 sm:w-6 text-orange-500"})})]})})}),e.jsx(re.div,{variants:xe,className:"col-span-2 sm:col-span-1 lg:col-span-2",children:e.jsx(me,{className:"shadow-elegant",children:e.jsxs(he,{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-muted-foreground",children:"Longest Streak"}),e.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-purple-500",children:[W," ",W===1?"day":"days"]})]}),e.jsx("div",{className:"h-10 w-10 sm:h-12 sm:w-12 rounded-lg flex items-center justify-center bg-purple-500/10",children:e.jsx($n,{className:"h-5 w-5 sm:h-6 sm:w-6 text-purple-500"})})]})})})]}),!x&&e.jsx(re.div,{variants:xe,initial:"hidden",animate:"visible",children:e.jsxs(me,{className:"shadow-elegant",children:[e.jsx($e,{children:e.jsxs(Me,{className:"flex items-center gap-2",children:[e.jsx(An,{className:"h-5 w-5"}),"Activity Overview"]})}),e.jsx(he,{children:e.jsx(xa,{})})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx(re.div,{variants:xe,initial:"hidden",animate:"visible",className:"lg:col-span-2",children:e.jsxs(me,{className:"shadow-elegant",children:[e.jsx($e,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(Me,{className:"flex items-center gap-2",children:[e.jsx(cn,{className:"h-5 w-5"}),"Task Management"]}),!x&&ve()>0&&e.jsx(ae,{variant:"outline",size:"sm",onClick:pe,className:"hover-scale",children:"Clear Filters"})]})}),e.jsxs(he,{className:"space-y-4 p-4 md:p-6",children:[x?e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:["Showing ",K.length," of ",L," tasks"]}),e.jsxs(Et,{open:D,onOpenChange:u,children:[e.jsx(ma,{asChild:!0,children:e.jsxs(ae,{variant:"outline",size:"sm",className:"shrink-0",children:[e.jsx(Ln,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Filters"}),ve()>0&&e.jsx(Ie,{variant:"secondary",className:"ml-2 px-1.5 py-0.5 text-xs",children:ve()})]})}),e.jsxs(Ot,{children:[e.jsx($t,{children:e.jsx(At,{children:"Filter Tasks"})}),e.jsx(de,{inDrawer:!0}),e.jsxs(Mt,{className:"flex-row gap-2",children:[e.jsx(pa,{asChild:!0,children:e.jsx(ae,{variant:"outline",className:"flex-1",children:"Close"})}),e.jsx(ae,{onClick:pe,variant:"destructive",className:"flex-1",children:"Clear Filters"})]})]})]})]}):e.jsx(de,{}),e.jsx(dn,{className:"h-[500px]",children:K.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-12 px-4",children:[e.jsx(st,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground/30"}),e.jsx("h3",{className:"text-lg font-medium text-muted-foreground mb-2",children:"No tasks found"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4 max-w-xs",children:L===0?"Create your first task to get started.":"Try adjusting your filters or create a new task."}),e.jsxs(ae,{onClick:()=>$(!0),variant:"focus",children:[e.jsx(Fe,{className:"h-4 w-4 mr-2"}),"Create Task"]})]}):e.jsx("div",{className:"space-y-3 pr-3",children:e.jsx(lt,{children:K.map(w=>e.jsx(re.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,transition:{duration:.2}},children:x?e.jsx(Dn,{task:w,onEdit:O,onDelete:r,onToggleStatus:d,onTogglePriority:g,onStartTimer:ie,assignedProfiles:ye(w.assignedTo)},w.id):e.jsx(En,{task:w,onEdit:O,onDelete:r,onToggleStatus:d,onTogglePriority:g,onStartTimer:ie,assignedProfiles:ye(w.assignedTo)},w.id)},w.id))})})})]})]})}),e.jsx(re.div,{variants:xe,initial:"hidden",animate:"visible",children:e.jsxs(me,{className:"shadow-elegant",children:[e.jsx($e,{children:e.jsxs(Me,{className:"flex items-center gap-2",children:[e.jsx(Le,{className:"h-5 w-5"}),"Team Collaboration"]})}),e.jsx(he,{className:"space-y-6 p-4 md:p-6",children:b!=null&&b.teamId&&a.length>0?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-success/5 border border-success/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Le,{className:"h-4 w-4 text-success"}),e.jsx("span",{className:"font-medium text-success text-base",children:"Active Team"})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.length," member",a.length!==1?"s":""," collaborating"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3 text-base",children:"Team Members"}),e.jsxs("div",{className:"space-y-2",children:[a.slice(0,4).map(w=>{var k;return e.jsxs("div",{className:"flex items-center gap-3 p-2 bg-muted/30 rounded-lg",children:[e.jsxs(un,{className:"h-8 w-8",children:[e.jsx(fn,{src:w.photoURL||""}),e.jsx(mn,{className:"text-xs bg-primary/20 text-primary",children:((k=w.displayName)==null?void 0:k.slice(0,2).toUpperCase())||w.email.slice(0,2).toUpperCase()})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium truncate text-sm",children:w.displayName||"Team Member"}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:w.email})]}),w.uid===(p==null?void 0:p.uid)&&e.jsx(Ie,{variant:"secondary",className:"text-xs px-1 py-0",children:"You"})]},w.uid)}),a.length>4&&e.jsx("div",{className:"text-center py-1",children:e.jsxs(Ie,{variant:"outline",className:"text-xs",children:["+",a.length-4," more"]})})]})]}),e.jsxs(ae,{onClick:()=>H("/profile"),variant:"outline",className:"w-full hover-scale",children:[e.jsx(it,{className:"h-4 w-4 mr-2"}),"Invite More Members"]})]}):e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"bg-gradient-to-br from-primary/10 to-focus/10 rounded-2xl flex items-center justify-center h-16 w-16 mx-auto shadow-elegant",children:e.jsx(Le,{className:"h-8 w-8 text-muted-foreground/50"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-muted-foreground mb-1",children:"No Team Yet"}),e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Invite members to collaborate on tasks and boost productivity."})]}),e.jsxs("div",{className:"space-y-3 pt-2",children:[e.jsxs(ae,{onClick:()=>H("/profile"),variant:"focus",className:"w-full hover-scale",children:[e.jsx(it,{className:"h-4 w-4 mr-2"}),"Invite Team Member"]}),e.jsx("div",{className:"text-xs text-muted-foreground/80 pt-2",children:"Assign tasks, track progress, and collaborate in real-time."})]})]})})]})})]})]}),x&&e.jsx(lt,{children:!h&&!R&&e.jsx(re.div,{initial:{scale:0,y:100},animate:{scale:1,y:0},exit:{scale:0,y:100},transition:{type:"spring",stiffness:260,damping:20},className:"fixed bottom-6 right-6 z-50",children:e.jsxs(ae,{onClick:()=>$(!0),variant:"focus",size:"icon",className:"h-14 w-14 rounded-full shadow-lg shadow-primary/30",children:[e.jsx(Fe,{className:"h-6 w-6"}),e.jsx("span",{className:"sr-only",children:"Create New Task"})]})})})]})}export{Ma as default};
